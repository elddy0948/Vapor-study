### Parent-Child Relationship

Parent-child relationship이란 하나의 모델이 다른 하나 혹은 여러개의 모델에 대해 'ownership'을 가지는 것을 말한다. 

One-to-one 혹은 one-to-many relationships라고도 알려져있다. 예를들어 사람과 옷을 예로들수도 있다. 한명의 사람은 여러종류의 옷을 가지고 있을 수 있다. 

Parent Relationship을 지정하고 싶을때에는 예를들어 사람이 여러개의 옷을 가질 수 있다. One-to-many relationship인데 이것을 Clothes.swift (Clothes의 모델) 에서는

```swift
@Parent(key: "personID")
var person: Person
```

이런식으로 표현될 수 있을 것이고 Person.swift 에서는

```swift
@Children(for: \.$person)
var clothes: [Clothes]
```

이렇게 @Parent와 @Children을 사용하여 표현할 수 있습니다. 

그리고 Fluent를 활용하면 Parent(Person)에서 Children(Clothes)를 가져오기도, 반대로 Children(Clothes) 에서 Parent(Person)을 가져오기도 쉬워진다. 



### Domain Transfer Objects

DTO는 Client가 보내거나 받을 타입을 나타내준다. 그럼 Route handler가 DTO를 받아서 코드로 사용 가능하게 변환해준다. 



### Foreign key constraints

Foreign key? 

Foreign key는 두개의 테이블을 연결(link)해주는 역할을 한다. 주로 검증(Validation)을 위해 자주 사용됩니다. 

예를들어서 고양이 테이블과 사람 테이블이 있다고 가정합니다. 주인이 없는 고양이는 있을수 없다는 가정하에! Foreign key constraints를 사용할 때의 얻을 수 있는 이점을 보면

- Person이 없이 Cat을 생성할 수 없다는 것을 보장해줍니다. 
- Person에 연관되어 있는 모든 Cat을 삭제하기 전까지 Person을 삭제할 수 없습니다. 
- 또한 Person table을 삭제하려면 Cat table을 삭제해야합니다. 

